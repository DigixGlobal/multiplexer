const Multiplexer = artifacts.require('./Multiplexer.sol');
const multiplexer = Multiplexer.at(Multiplexer.address);

console.log('Multiplex Address', Multiplexer.address);

const ERC20 = artifacts.require('./TestMintableToken.sol');
const token = ERC20.at('0xe0b7927c4af23765cb51314a0e0521a9645f0e2a');
const tokenWeiPerAddress = 100000000;
const addresses = [
  '0xc9281a5609b232a6c5ad610c635d552c14f51a9a',
  '0x67436a2c32f8e72e9de5bcf1b5f6fff8172d4ad2',
  '0xa61b8d13d20a3bddf00702bfe4092981701a7358',
  '0xee90ce56e68b011fc1b9e84aac62156b8c27763f',
  '0xc2b82e7db33d926ebfc1d92f45a9b234e531b67b',
  '0xfca73eff8771c0103ba3cc1a9c259448c72abf0b',
  '0x002ffa6895c01838107153adf84c2978166a220f',
  '0x79e063a8288dffb4156f42210d765b975aeb0957',
  '0x2c34f01fe0fe83fa047c7d891ab661a4cbf882af',
  '0x64d683a2cafe27181a30cfe229336cc87bcb5f41',
  '0x4a4d417a4766113b8dff28473af6ea401fd23d57',
  '0x1fb6bfc715831378def113c9e54122b43842b3cb',
  '0xd70e7ae5bfd1bd4561b5bac445d5022b16d5440f',
  '0x53c8f3032a89baae2dd8bfd426660775a00efaf3',
  '0xe13cec7b2c10574e5e89a780582b66d2c3c71b80',
  '0xf58499644d1d27c04df2f1191c4cfe2620a98b5c',
  '0x9efe2a4863c1a134667a26deff65490a1cabf687',
  '0xea7ec11702a8a13ee56fe0e3742cd35f0c1d3cf9',
  '0xff6ef346d8e6c0612a129f135b107123bea60f2b',
  '0xa592d5e6134abbdb05f18159331045460d22ae19',
  '0x2397c5a2c15ee5224bb3a1bdd902695b15059689',
  '0x146764a316ec64237ef6a20bc663b1b276e27c02',
  '0x29b2d45dbd7ce98aa9303e31e715b45b94ccfcfa',
  '0x00942a25b32de6fc88ef056610aed3ec677966a4',
  '0x133d5cb0506fb3406a7fcb0da80636af8755bf63',
  '0x2da3f6e73cf65064c2ed31cbbae4e39f0e3c3c04',
  '0xff6590510f959b93754d8e399b5b6a0c9c5ba2fc',
  '0x5592c1d00d3024bdeb0e5cd5a6096edde5bd2838',
  '0xb074278ef8a4612ec0a0d5387447857f1097a157',
  '0x33661b5d68c274dea912e801837968abbadeff7e',
  '0x00fefa26320ab4ab6ec67bddccc92cf0d7d2d0fb',
  '0x5b0733b9adb031c580493b88cdd52f761c195da0',
  '0x9c1478134d61258dd2c35de561bd0ff94678ab5e',
  '0xbb88dac0ae203632bb5ec80c00fbb6f5d82ec974',
  '0x65870575837f98511793041ee5c0cc4db911b01e',
  '0x1bcfe4f499db23909a5ddc33d6e2d879531176ec',
  '0xafe54cd3dc41336e769096f6ea8080a682a3d9e2',
  '0x7205fc2ec03ae1109b35d983407a223ac82c4871',
  '0xdae48d7b5c73a95f74caae08f7f92d3b7927f449',
  '0xd122d84d5bc9da9a307050019358f6cc4cc6d8fb',
  '0xc597044ed3da76cab487f730df41c5d7bad4feb9',
  '0x1b00e80c64164c76299157bd5723deb184b0c6d0',
  '0x02b1295c5b7d3aa02669f542634f66462b8c9abf',
  '0x2a477f1f93d17457a23ba72368743c4b1bff2a28',
  '0x1c82ccd574044df0318e039b5d7d9f1f84685e61',
  '0x19a588c4867a91402dd3e9d477212289cf9aeca9',
  '0xd1ebae724248cb8a14483c6987feeb6c928d8172',
  '0x0b450b9d5a9769a6f7adbd8dc2dda0dfb47c5c3a',
  '0x63812dbd7d5665e00f92c8e73b36e49fe1b15743',
  '0x6375325cb611dee5208499e8296ee640e32dfd18',
  '0xf881e5f99a448b95954028071dcb24153381ee74',
  '0xe34c208f1d1d10d07e9e948455c64f69d6e6d838',
  '0x87c280c758aa49b6aefeeec7257a1de7e8a54214',
  '0xc85cf7e6a0cd95abb46d4e6048d7e5c0c6e85205',
  '0x3f474cab8fa6f861bb533a70e10c3e944cb0b410',
  '0xb55cb753291d726d620502c10843f265e447a6fe',
  '0x98c80268276ac6306f27b6430c49e8d0473d753d',
  '0xfc5bbc2bbe5fb0a9e2665a7a9f2290ee34d3c64e',
  '0x7f2b9a08f35b7b4de85354260f4540302ce1877e',
  '0x74e74d0194286014b500186e6224b088153da54e',
  '0x5814ba8ac95575318c8f1692dd2f7b687d07b821',
  '0xa5da57311bc233b112ab817c732804d2a4c0297c',
  '0xdcab44b6fda7d1e0ef6f9d9ead6508e0e1558264',
  '0x3af76d7e196322ce4f62dfefedd5778e12df7eaa',
  '0xbb1965f10fe59ef9df35be181945d9538eb798b6',
  '0x56446712b219fcc34a5604f5e7af5d50d65b6647',
  '0x90a64ed7b118631520ac1d71f348ff213ca51817',
  '0x45a4175d7cb99dd229aa51c059c68c27adcb94db',
  '0xa59a170fa8ae723fd9962e7b72aa1fdb01e90608',
  '0xe7c613dd9f8658205556c89f042dcdc7e10c23a0',
  '0xf9a8aa349a7774d25a4af1815c24494389995cb8',
  '0x9c1363e8a8dac64147c3e5e6533dacf269471247',
  '0x51c61b0b86d1c2a742c30b188dcf82acbc9fb09b',
  '0x3cc03e1a54f2255beb485187d75a66fb5a574593',
  '0x9b422e571eb2cb9837efdc4f9087194d65fb070a',
  '0x9b8ab4aaf18f4ea4b18a954462b53469b2dc4b84',
  '0x5b237a7cb07c71f4bbe7a4706c7540f76954fde2',
  '0xd82811fd89f18a6361286bf7501f5464edb3b789',
  '0x9230ad3c01fc8c1929644af5bd360d5115623ddb',
  '0x4163eb44702bea470431db626091e310575244ef',
  '0xbeb1fd865feea5006c74bcb615ebb00f1a05d469',
  '0x1a6e2f78cf14939864b8a701a28eeedf62d9a952',
  '0x2a3d46aa866d1be217e33455732948faff9a45b4',
  '0x7997894f43112be3bc1c57a910a12b0a350fcf28',
  '0x8c0a0ba507ce136c29ec050781ee80697a06e3e9',
  '0x2f2b0ea87b0ac0546efa511a5e9c6423e0d9a699',
  '0x2947f743dd35f2206098e18a9b3a3928d05d293f',
  '0x7b1b26bf04b5b6e1e78f4d105e5726205458b4ef',
  '0xe54a5487ea8816559d88eabf26b783fe343eda49',
  '0x69017e33796601bf924805b4c5fdb14b0ca7f064',
  '0x114f7a44cd8b68ca3841340f1ea54dcece073f5f',
  '0x62eca0fb900a26695dd6c0a4fe719987307d4eae',
  '0xa297a4d809e4681fbcfbcdfbf389abce02e39d15',
  '0xe43e41b65400c8f5da681feb34710bd7552b95de',
  '0x1efb00cca7e2b858fcb42f522a400cc77b74783f',
  '0xf30bc8ab61e7719961bc9cd4ff1af0f3d62e6d44',
  '0xd9486aa30e2e4cc3d4c7145d32b8bc0f365b506a',
  '0xc12fd6bf9cb58c76aebf57d3051b869a434e7d26',
  '0xfe7fb7f348336508130973ca872251541bb92cd1',
  '0x908f47089c11b4a1ee452bd4b72efa244601835e',
  '0x1c6f4dfc666da461a42e9b5d890c1d1ec5c6ba16',
  '0xfdd01842b99e96dfb0c58d28ecf755c933f3d1d2',
  '0x24ab5e1fc2925e54a505ed9fa52b29ee019d2764',
  '0xfec13845ea2cb90757501bab2284f378fd20aec2',
  '0x34b90a87882d4dc26fac53ea8a5d57938783bcf2',
  '0xf1713729be985a4d42730a6884890fe7be9596d0',
  '0x72af8296d1272deffe909926d1db18ee418542a8',
  '0x0ccd062e8a71fa30a74d06f353db199e5657b6e6',
  '0x9dbaee36c621e6c13cf1875fda1ee851940b202e',
  '0x882249acdd6f2e0ed067e5c66a6667baa7386b38',
  '0xaa4eb3b318e0bf21ad42a6799478ab7f4c634ffe',
  '0x36d04a65fb975e4ff71949eb8b568ffb01bd1e15',
  '0x14730014eea880f2d52ac0b67442c485242d9b9c',
  '0xf7dbc54d3fbba3f1ed9881ae539f1c65d8bce166',
  '0xd929ad1e45b7963bf98bb25bcbd3e6db858e9f45',
  '0xdae300f0627e35a17f2dfcaac6fda998e393b7d0',
  '0xcc9e7ce4c5423abcc24af376ae1a7f456d7b440d',
  '0x6fb7f22e5b989004ea1691fcb7ac61cf2df1e3d0',
  '0xf1f0c294d247e8691d1118a86ccc669da3c75ca8',
  '0x70764718f4f9ac8d5c3691781ebb030e3d6d0444',
  '0x65af03a3825d186cdae0296e4bbb4c843b9c1559',
  '0xd487ee360225e0a01b32615e0c24798b42860266',
  '0xc86e32838e72e728c93296b0ef11303b3d97a7a7',
  '0xb17391eb239387c225c481245355299ea3a9c17f',
  '0x2253c1f60648cf6190a349d2453c549555feca10',
  '0x5bba175464707a3eb9465e12379f7fda215242ab',
  '0xb3ddf32ff40efdece57a620c071cd0437e0277fb',
  '0x3027a0ef7693523e0f59e843f5faf2259c54e728',
  '0xf86a1a041cea941e78af95f4f11179c056b1c817',
  '0x3cf2b135b6aa323a5989f7902a806b055bf05649',
  '0x061d9764142f8277954c80c610d30b58aae08cdc',
  '0xf616b3fc9d272a064d098be6722f7b3dac5022ba',
  '0x02e92cc5aff51dbac02fad20c54949dcefca7e28',
];
const balances = addresses.map(() => tokenWeiPerAddress);
const total = balances.reduce((t, n) => t + n, 0);

module.exports = async () => {
  console.log(`Sending ${total} token wei`);
  // console.log('Setting new allowance', await token.approve(multiplexer.address, total, { gas: 6000000, gasPrice: 12e9 }));
  console.log('Sending', await multiplexer.sendErc20(token.address, addresses, balances, { gas: 6000000, gasPrice: 12e9 }));
};
